# A100 80GB Production Environment
# Optimized for high-throughput training with robust monitoring

## Remote Connection
REMOTE_HOST=user@a100-host
SSH_KEY_PATH=~/.ssh/id_ed25519
SSH_OPTS=-o BatchMode=yes -o StrictHostKeyChecking=yes -o ConnectTimeout=10 -o ServerAliveInterval=15 -o ServerAliveCountMax=4

## TensorBoard
TB_PORT=6006
TB_LOGDIR=artifacts/train_showcase/tb

## NSA Runtime Configuration  
NSA_DTYPE=bf16
NSA_ENABLE_FA2=1
NSA_USE_TRITON_SEL=1
NSA_PARITY_OK=1
NSA_PREFILL_BATCHED=1

## Data Pipeline
HF_HOME=/mnt/hf_home
HF_DATASETS_CACHE=/mnt/hf_home/datasets
NSA_DATA_CACHE=artifacts/hf_cache
NSA_TOKENIZER=gpt2

## Watchdog (Aggressive monitoring for production)
NSA_WATCH_HALT=1
NSA_WATCH_INTERVAL_S=15
NSA_WATCH_HEARTBEAT_STALL_S=120
NSA_WATCH_FLATLINE_N=3

## Training Telemetry
NSA_LOG_GRAD_NORM=1

## Memory Management
NSA_PREFILL_BATCH_SIZE=8
NSA_MAX_SEQ_LEN=4096

## Performance Optimization
TORCH_BACKEND=nccl
CUDA_LAUNCH_BLOCKING=0
NSA_TF32_MATMUL=1